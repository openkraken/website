# event

Kraken provides most of the W3C (whatwg) standard event-related API implementations.
The following lists the currently supported APIs and their attributes and methods. For detailed documentation, please refer to the standard documentation.

---

## Event

### Interface Description

The `Event` API represents events that occur in the DOM. Some events are triggered by the user, such as mouse or keyboard events; while other events are often generated by the API, such as an event indicating that the animation has finished running, the video has been paused, and so on.

### Constructor

#### Event()

Create and return an `Event` object.

```js
const myEvent = new Event(type, eventInit);
```

#### Entry

- `type` String
  Indicates the name of the created event.

- `eventInit` Object optional
  Optional parameter object. The available options are as follows:
  - `bubbles` Boolean, the default value is false, indicating whether the event is bubbling.
  - `cancelable` Boolean, the default value is false, indicating whether the event can be cancelled.

### Attributes

- `bubbles` Boolean read only
  Used to indicate whether the event will bubble up in the DOM.

- `cancelable` Boolean Read only
  Indicates whether the event can be cancelled.

- `currentTarget` Object read only
  A reference to the target currently registered for the event.

- `defaultPrevented` Boolean Read only
  Indicates whether the `event.preventDefault()` method cancels the default behavior of the event.

- `eventPhase` Number Read only
  Indicates to which stage the event stream is being processed.

- `target` Object read only
  A reference to the original target of the event, where the original target refers to the target specified when the event was initially dispatched.

- `type` String Read only
  The type of event is not case sensitive.

- `isTrusted` Boolean Read only
  Indicates whether the event was initiated by the user (such as a click) or a script (such as a custom event).

### method

- `preventDefault`
  Cancel the event (if the event can be cancelled).

- `stopPropagation`
  Stop bubbling to prevent events from bubbling in the DOM.

### refer to

- [Link](https://developer.mozilla.org/zh-CN/docs/Web/API/Event)

---

## MessageEvent

### Interface Description

`MessageEvent` represents the message received by the target object.

Inheritance: `MessageEvent` â†’ `Event`

### Constructor

#### MessageEvent()

Create and return a MessageEvent object.

```js
const myMsgEvent = new MessageEvent(type, eventInit);
```

#### Entry

- `type` String
  Indicates the name of the created event.

- `eventInit` Object optional
  Optional parameter object. The available options are as follows:
  - data Any: The data you want to include in the MessageEvent. This can be any data type, if not specified, it defaults to null.
  - origin String: indicates the origin of the message. If not specified, it will default to the empty string "".
  - lastEventId String: indicates the unique ID of the event. If not specified, it will default to the empty string "".
  - source MessagePort: Represents the message sending object. If it is not set, it defaults to null.
  - ports MessagePort[]: An array of MessagePort objects, representing the ports associated with the message channel being passed (in appropriate circumstances, such as when channel messaging or sending messages to shared workers). If not specified, it will default to an empty array [].

### Attributes

- `data` String Bolb ArrayBuffer Read only
  Data from the sender.

- `origin` String
  Indicates the source of the message.

- `lastEventId` String Read only
  Represents the unique ID of the event.

- `source` MessagePort
  Indicates to whom the message is sent.

- `ports` MessagePort[]
  An array of MessagePort objects, representing the ports associated with the message channel being passed (in appropriate cases, such as when channel messaging or sending messages to shared workers).

### method

without

### refer to

- [Link](https://developer.mozilla.org/zh-CN/docs/Web/API/messageEvent)

---

## EventTarget

### Interface Description

The `EventTarget` interface provides the ability to receive events and create listeners.

### Constructor

#### EventTarget()

Create a new instance of the `EventTarget` object. Can be used to implement message publishing and subscription functions.

```javascript
const myEventTarget = new EventTarget();
```

### Attributes

without

### method

- `addEventListener`
  Register the specified listener to `EventTarget`, and when the object triggers the specified event, the specified callback function will be executed.

- `removeEventListener`
  Delete the event added using the `addEventListener()` method. Use a combination of the event type, the event listener function itself, and various selectable options that may affect the matching process to identify the event listener to be deleted.

- `dispatchEvent`
  Dispatch an event `event` to a specified event target, and synchronously call the event processing functions related to the target element in an appropriate sequence.

### refer to

- [Link](https://developer.mozilla.org/zh-CN/docs/Web/API/eventTarget)
